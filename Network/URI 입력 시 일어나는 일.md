## Writer: 박찬형

### URI(URL)입력 시 일어나는 일에 대해서 최대한 자세히 서술하세요.

1. 사용자가 브라우저에 URI을 입력한다.

2. 브라우저에서 URL을 파싱한다. 프로토콜과 포트를 명시하지 않았다면 웹에서 기본으로 사용하는 http나 https 프로토콜을 이용하고 해당 프로토콜에 맞는 포트번호(80, 443)를 이용해 OS에 전송 요청을 생성한다.

   - HSTS(HTTP Strict Transport Security) 목록에 해당 URL이 있는 경우 https 프로토콜을 이용해 요청을 생성한다.

3. DNS lookup을 시행한다.

   - 브라우저의 Recursive DNS Server에 입력한 URI가 캐시되어 있는지 확인한다.
   - 로컬 파일로 저장된 hosts file에 입력한 URI 정보가 있는지 확인한다.
   - OS의 DNS cache에 입력한 URI 정보가 있는지 확인한다.

4. 3에서 입력한 URI에 해당하는 정보를 발견하지 못했다면, 입력한 URI의 Domain name을 DNS 서버에서 검색한다.

5. DNS 시스템에 따라 root server - TLD(Top Level Domain) DNS Server - Authoritative DNS Server 순서대로 찾을 때 까지 하위 DNS 서버에 입력한 URL에 해당하는 IP주소를 요청한다.

6. 해당 도메인과 매핑(mapping)된 서버의 IP주소를 찾아 캐시에 저장한다.

7. 서버와의 통신을 위해 발견한 IP를 사용해서 3 Way-Handshake 방식으로 TCP 연결을 시도한다.

   - HTTPS의 경우 추가로 SSL Handshake 과정을 수행하여 연결한다.

8. 만들어진 요청은 OS의 프로토콜 스택이라는 네트워크 제어용 소프트웨어 패킷에 담긴다. 구성된 패킷에 제어 정보를 덧붙여서 LAN 어댑터로 전송한다.

9. LAN 어댑터에서 패킷을 전기 신호로 바꾼다.

10. 패킷은 스위칭 허브 등을 경유하여 인터넷 접속용 라우터에서 ISP로 전달되고, 인터넷으로 이동한다. 액세스 회선에 의해 통신사용 라우터로 운반되고, 목적지까지 패킷이 흘러들어간다.

11. 방화벽이 패킷을 검사한 후 캐시 서버로 보내 웹 서버에 갈 필요가 있는지 판단하고, 필요한 경우 웹서버에 전달한다.

12. 웹 서버에서 프로토콜 스택을 이용하여 패킷으로부터 메시지를 복원한다.

13. 메시지를 웹 서버 애플리케이션이 받아 Response를 작성한다.

14. 왔던 순서대로 다시 클라이언트로 전달된다.
